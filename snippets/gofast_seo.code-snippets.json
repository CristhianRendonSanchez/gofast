{"generator":"Code Snippets v3.9.3","date_created":"2025-12-12 19:46","snippets":[{"id":46,"name":"gofast_seo","code":"\n\/***************************************************\n * GOFAST \u2013 OPTIMIZACI\u00d3N SEO COMPLETA\n * Compatible con Cloudflare y Site Kit de Google\n * \n * Incluye:\n * - Meta tags b\u00e1sicos (title, description, keywords)\n * - Open Graph (Facebook, LinkedIn)\n * - Twitter Cards\n * - Schema.org structured data (JSON-LD)\n * - Canonical URLs\n * - Meta robots\n * - Optimizaciones Cloudflare\n ***************************************************\/\n\n\/**\n * Agregar meta tags SEO al head de WordPress\n *\/\nfunction gofast_add_seo_meta_tags() {\n    global $wp;\n    \n    \/\/ Obtener informaci\u00f3n del sitio\n    $site_name = get_bloginfo('name');\n    $site_description = get_bloginfo('description');\n    $site_url = home_url('\/');\n    $current_url = home_url(add_query_arg(array(), $wp->request));\n    \n    \/\/ Configuraci\u00f3n SEO por defecto\n    $default_title = 'GoFast - Mensajer\u00eda Express en Tul\u00faa | Env\u00edos R\u00e1pidos y Seguros';\n    $default_description = 'GoFast es tu servicio de mensajer\u00eda express en Tul\u00faa y alrededores. Env\u00edos r\u00e1pidos, seguros y confiables. Cotiza tu domicilio en segundos y confirma por WhatsApp.';\n    $default_keywords = 'mensajer\u00eda express, domicilios tul\u00faa, env\u00edos r\u00e1pidos, mensajero tul\u00faa, delivery tul\u00faa, env\u00edos intermunicipales, gofast, mensajer\u00eda valle del cauca';\n    \n    \/\/ Imagen por defecto (logo de GoFast)\n    $default_image = 'https:\/\/gofastdomicilios.com\/wp-content\/uploads\/2025\/11\/GoFast.png';\n    \n    \/\/ Detectar p\u00e1gina actual y personalizar SEO\n    $page_title = $default_title;\n    $page_description = $default_description;\n    $page_keywords = $default_keywords;\n    $page_image = $default_image;\n    $page_type = 'website';\n    \n    \/\/ Detectar tipo de p\u00e1gina\n    if (is_front_page() || is_home()) {\n        $page_title = 'GoFast - Mensajer\u00eda Express en Tul\u00faa | Env\u00edos R\u00e1pidos y Seguros';\n        $page_description = 'GoFast es tu servicio de mensajer\u00eda express en Tul\u00faa y alrededores. Env\u00edos r\u00e1pidos, seguros y confiables. Cotiza tu domicilio en segundos y confirma por WhatsApp.';\n        $page_type = 'website';\n    } elseif (is_page()) {\n        $page_obj = get_queried_object();\n        $page_title = $page_obj->post_title . ' | ' . $site_name;\n        \n        \/\/ Personalizar seg\u00fan slug de p\u00e1gina\n        $page_slug = $page_obj->post_name;\n        \n        switch ($page_slug) {\n            case 'cotizar':\n                $page_title = 'Cotizar Env\u00edo - GoFast Mensajer\u00eda Express';\n                $page_description = 'Cotiza tu env\u00edo en segundos. Ingresa origen y destino, obt\u00e9n el precio al instante. Servicio de mensajer\u00eda express en Tul\u00faa.';\n                $page_keywords = 'cotizar env\u00edo, calcular costo env\u00edo, tarifas mensajer\u00eda tul\u00faa, precio domicilio';\n                break;\n                \n            case 'cotizar-intermunicipal':\n                $page_title = 'Env\u00edos Intermunicipales - GoFast | Desde Tul\u00faa a Otros Municipios';\n                $page_description = 'Env\u00eda paquetes desde Tul\u00faa a otros municipios cercanos. Env\u00edos intermunicipales r\u00e1pidos y seguros. Pago anticipado requerido.';\n                $page_keywords = 'env\u00edos intermunicipales, mensajer\u00eda intermunicipal, env\u00edos desde tul\u00faa, delivery intermunicipal';\n                break;\n                \n            case 'sobre-nosotros':\n                $page_title = 'Sobre Nosotros - GoFast Mensajer\u00eda Express';\n                $page_description = 'Conoce m\u00e1s sobre GoFast, tu servicio de mensajer\u00eda express en Tul\u00faa. Nuestro equipo, pol\u00edticas y compromiso con la calidad.';\n                $page_keywords = 'sobre gofast, qui\u00e9nes somos, mensajer\u00eda tul\u00faa, empresa mensajer\u00eda';\n                break;\n                \n            case 'trabaja-con-nosotros':\n                $page_title = 'Trabaja con Nosotros - \u00danete al Equipo GoFast';\n                $page_description = '\u00bfTienes moto y papeles al d\u00eda? \u00danete a nuestra red de mensajeros GoFast y genera ingresos adicionales haciendo domicilios en Tul\u00faa.';\n                $page_keywords = 'trabajar como mensajero, empleo mensajero tul\u00faa, ser mensajero, trabajo mensajer\u00eda';\n                break;\n                \n            case 'app-movil':\n                $page_title = 'App M\u00f3vil GoFast - Descarga Nuestra Aplicaci\u00f3n';\n                $page_description = 'Descarga la app m\u00f3vil de GoFast y gestiona tus env\u00edos desde tu celular. Disponible para Android e iOS.';\n                $page_keywords = 'app gofast, aplicaci\u00f3n mensajer\u00eda, app delivery tul\u00faa, descargar app';\n                break;\n        }\n    }\n    \n    \/\/ Asegurar que el t\u00edtulo y descripci\u00f3n no est\u00e9n vac\u00edos\n    if (empty($page_title)) {\n        $page_title = $default_title;\n    }\n    if (empty($page_description)) {\n        $page_description = $default_description;\n    }\n    \n    \/\/ Limpiar y escapar contenido\n    $page_title = esc_attr($page_title);\n    $page_description = esc_attr($page_description);\n    $page_keywords = esc_attr($page_keywords);\n    $current_url = esc_url($current_url);\n    $page_image = esc_url($page_image);\n    \n    \/\/ ============================================\n    \/\/ META TAGS B\u00c1SICOS\n    \/\/ ============================================\n    echo \"\\n<!-- GoFast SEO Meta Tags -->\\n\";\n    \n    \/\/ Title (si no est\u00e1 ya definido por otro plugin)\n    if (!defined('WPSEO_VERSION') && !function_exists('yoast_breadcrumb')) {\n        echo '<title>' . $page_title . '<\/title>' . \"\\n\";\n    }\n    \n    \/\/ Meta Description\n    echo '<meta name=\"description\" content=\"' . $page_description . '\">' . \"\\n\";\n    \n    \/\/ Meta Keywords (aunque ya no es tan importante, algunos buscadores lo usan)\n    echo '<meta name=\"keywords\" content=\"' . $page_keywords . '\">' . \"\\n\";\n    \n    \/\/ Author\n    echo '<meta name=\"author\" content=\"GoFast Mensajer\u00eda Express\">' . \"\\n\";\n    \n    \/\/ Language\n    echo '<meta http-equiv=\"content-language\" content=\"es-CO\">' . \"\\n\";\n    \n    \/\/ Geo tags (Tul\u00faa, Valle del Cauca, Colombia)\n    echo '<meta name=\"geo.region\" content=\"CO-VAC\">' . \"\\n\";\n    echo '<meta name=\"geo.placename\" content=\"Tul\u00faa\">' . \"\\n\";\n    echo '<meta name=\"geo.position\" content=\"4.0847;-76.1953\">' . \"\\n\";\n    echo '<meta name=\"ICBM\" content=\"4.0847, -76.1953\">' . \"\\n\";\n    \n    \/\/ Robots\n    echo '<meta name=\"robots\" content=\"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1\">' . \"\\n\";\n    echo '<meta name=\"googlebot\" content=\"index, follow\">' . \"\\n\";\n    \n    \/\/ Canonical URL\n    echo '<link rel=\"canonical\" href=\"' . $current_url . '\">' . \"\\n\";\n    \n    \/\/ ============================================\n    \/\/ OPEN GRAPH (Facebook, LinkedIn, etc.)\n    \/\/ ============================================\n    echo \"\\n<!-- Open Graph Meta Tags -->\\n\";\n    echo '<meta property=\"og:type\" content=\"' . $page_type . '\">' . \"\\n\";\n    echo '<meta property=\"og:title\" content=\"' . $page_title . '\">' . \"\\n\";\n    echo '<meta property=\"og:description\" content=\"' . $page_description . '\">' . \"\\n\";\n    echo '<meta property=\"og:url\" content=\"' . $current_url . '\">' . \"\\n\";\n    echo '<meta property=\"og:site_name\" content=\"' . esc_attr($site_name) . '\">' . \"\\n\";\n    echo '<meta property=\"og:image\" content=\"' . $page_image . '\">' . \"\\n\";\n    echo '<meta property=\"og:image:width\" content=\"1200\">' . \"\\n\";\n    echo '<meta property=\"og:image:height\" content=\"630\">' . \"\\n\";\n    echo '<meta property=\"og:image:alt\" content=\"' . esc_attr($site_name) . ' - Mensajer\u00eda Express\">' . \"\\n\";\n    echo '<meta property=\"og:locale\" content=\"es_CO\">' . \"\\n\";\n    echo '<meta property=\"og:locale:alternate\" content=\"es_ES\">' . \"\\n\";\n    \n    \/\/ Facebook App ID (obtener desde https:\/\/developers.facebook.com\/apps\/)\n    \/\/ Si no tienes una app de Facebook, puedes omitir esta l\u00ednea o crear una app\n    \/\/ Para crear una app: https:\/\/developers.facebook.com\/apps\/create\/\n    $fb_app_id = ''; \/\/ Reemplazar con tu Facebook App ID si tienes una\n    if (!empty($fb_app_id)) {\n        echo '<meta property=\"fb:app_id\" content=\"' . esc_attr($fb_app_id) . '\">' . \"\\n\";\n    }\n    \n    \/\/ Facebook Admins (ID de usuario de Facebook que administra la p\u00e1gina)\n    \/\/ Opcional: agregar IDs de administradores separados por comas\n    \/\/ $fb_admins = '123456789,987654321'; \/\/ Reemplazar con IDs reales si es necesario\n    \/\/ if (!empty($fb_admins)) {\n    \/\/     echo '<meta property=\"fb:admins\" content=\"' . esc_attr($fb_admins) . '\">' . \"\\n\";\n    \/\/ }\n    \n    \/\/ ============================================\n    \/\/ TWITTER CARD\n    \/\/ ============================================\n    echo \"\\n<!-- Twitter Card Meta Tags -->\\n\";\n    echo '<meta name=\"twitter:card\" content=\"summary_large_image\">' . \"\\n\";\n    echo '<meta name=\"twitter:title\" content=\"' . $page_title . '\">' . \"\\n\";\n    echo '<meta name=\"twitter:description\" content=\"' . $page_description . '\">' . \"\\n\";\n    echo '<meta name=\"twitter:image\" content=\"' . $page_image . '\">' . \"\\n\";\n    echo '<meta name=\"twitter:image:alt\" content=\"' . esc_attr($site_name) . ' - Mensajer\u00eda Express\">' . \"\\n\";\n    echo '<meta name=\"twitter:site\" content=\"@gofastulua\">' . \"\\n\";\n    echo '<meta name=\"twitter:creator\" content=\"@gofastulua\">' . \"\\n\";\n    \n    \/\/ ============================================\n    \/\/ OPTIMIZACIONES CLOUDFLARE\n    \/\/ ============================================\n    echo \"\\n<!-- Cloudflare Optimizations -->\\n\";\n    echo '<link rel=\"dns-prefetch\" href=\"\/\/fonts.googleapis.com\">' . \"\\n\";\n    echo '<link rel=\"dns-prefetch\" href=\"\/\/cdnjs.cloudflare.com\">' . \"\\n\";\n    echo '<link rel=\"preconnect\" href=\"https:\/\/fonts.googleapis.com\" crossorigin>' . \"\\n\";\n    echo '<link rel=\"preconnect\" href=\"https:\/\/www.google-analytics.com\" crossorigin>' . \"\\n\";\n    \n    \/\/ ============================================\n    \/\/ SCHEMA.ORG STRUCTURED DATA (JSON-LD)\n    \/\/ ============================================\n    echo \"\\n<!-- Schema.org Structured Data -->\\n\";\n    ?>\n    <script type=\"application\/ld+json\">\n    {\n        \"@context\": \"https:\/\/schema.org\",\n        \"@type\": \"LocalBusiness\",\n        \"name\": \"GoFast Mensajer\u00eda Express\",\n        \"image\": \"<?php echo esc_url($default_image); ?>\",\n        \"@id\": \"<?php echo esc_url($site_url); ?>\",\n        \"url\": \"<?php echo esc_url($site_url); ?>\",\n        \"telephone\": \"+573194642513\",\n        \"priceRange\": \"$$\",\n        \"address\": {\n            \"@type\": \"PostalAddress\",\n            \"streetAddress\": \"Tul\u00faa\",\n            \"addressLocality\": \"Tul\u00faa\",\n            \"addressRegion\": \"Valle del Cauca\",\n            \"postalCode\": \"763000\",\n            \"addressCountry\": \"CO\"\n        },\n        \"geo\": {\n            \"@type\": \"GeoCoordinates\",\n            \"latitude\": 4.0847,\n            \"longitude\": -76.1953\n        },\n        \"openingHoursSpecification\": {\n            \"@type\": \"OpeningHoursSpecification\",\n            \"dayOfWeek\": [\n                \"Monday\",\n                \"Tuesday\",\n                \"Wednesday\",\n                \"Thursday\",\n                \"Friday\",\n                \"Saturday\",\n                \"Sunday\"\n            ],\n            \"opens\": \"07:00\",\n            \"closes\": \"20:00\"\n        },\n        \"sameAs\": [\n            \"https:\/\/www.facebook.com\/share\/1BPYXAQJ7Y\/?mibextid=wwXIfr\",\n            \"https:\/\/www.instagram.com\/gofastulua?igsh=ZXhoMHE0bTQ3azgy\",\n            \"https:\/\/www.tiktok.com\/@gofastulua?_r=1&_t=ZS-91GhG5Z2Xpf\"\n        ],\n        \"description\": \"<?php echo esc_js($default_description); ?>\",\n        \"serviceArea\": {\n            \"@type\": \"City\",\n            \"name\": \"Tul\u00faa\"\n        },\n        \"areaServed\": {\n            \"@type\": \"City\",\n            \"name\": \"Tul\u00faa\"\n        },\n        \"hasOfferCatalog\": {\n            \"@type\": \"OfferCatalog\",\n            \"name\": \"Servicios de Mensajer\u00eda\",\n            \"itemListElement\": [\n                {\n                    \"@type\": \"Offer\",\n                    \"itemOffered\": {\n                        \"@type\": \"Service\",\n                        \"name\": \"Mensajer\u00eda Urbana\",\n                        \"description\": \"Env\u00edos punto a punto dentro de la ciudad\"\n                    }\n                },\n                {\n                    \"@type\": \"Offer\",\n                    \"itemOffered\": {\n                        \"@type\": \"Service\",\n                        \"name\": \"Env\u00edos Intermunicipales\",\n                        \"description\": \"Env\u00edos desde Tul\u00faa a otros municipios\"\n                    }\n                },\n                {\n                    \"@type\": \"Offer\",\n                    \"itemOffered\": {\n                        \"@type\": \"Service\",\n                        \"name\": \"Domicilios para Negocios\",\n                        \"description\": \"Servicio de domicilios para restaurantes y comercios\"\n                    }\n                },\n                {\n                    \"@type\": \"Offer\",\n                    \"itemOffered\": {\n                        \"@type\": \"Service\",\n                        \"name\": \"Pagos Contraentrega\",\n                        \"description\": \"Recolecci\u00f3n de pagos al momento de la entrega\"\n                    }\n                },\n                {\n                    \"@type\": \"Offer\",\n                    \"itemOffered\": {\n                        \"@type\": \"Service\",\n                        \"name\": \"Compras\",\n                        \"description\": \"Realizamos compras de productos en tiendas y supermercados\"\n                    }\n                }\n            ]\n        }\n    }\n    <\/script>\n    <?php\n    \n    \/\/ Schema.org para WebSite\n    ?>\n    <script type=\"application\/ld+json\">\n    {\n        \"@context\": \"https:\/\/schema.org\",\n        \"@type\": \"WebSite\",\n        \"name\": \"<?php echo esc_js($site_name); ?>\",\n        \"url\": \"<?php echo esc_url($site_url); ?>\",\n        \"potentialAction\": {\n            \"@type\": \"SearchAction\",\n            \"target\": \"<?php echo esc_url($site_url); ?>?s={search_term_string}\",\n            \"query-input\": \"required name=search_term_string\"\n        }\n    }\n    <\/script>\n    <?php\n    \n    \/\/ Schema.org para Organization\n    ?>\n    <script type=\"application\/ld+json\">\n    {\n        \"@context\": \"https:\/\/schema.org\",\n        \"@type\": \"Organization\",\n        \"name\": \"<?php echo esc_js($site_name); ?>\",\n        \"url\": \"<?php echo esc_url($site_url); ?>\",\n        \"logo\": \"<?php echo esc_url($default_image); ?>\",\n        \"contactPoint\": {\n            \"@type\": \"ContactPoint\",\n            \"telephone\": \"+573194642513\",\n            \"contactType\": \"customer service\",\n            \"areaServed\": \"CO\",\n            \"availableLanguage\": [\"Spanish\"]\n        },\n        \"sameAs\": [\n            \"https:\/\/www.facebook.com\/share\/1BPYXAQJ7Y\/?mibextid=wwXIfr\",\n            \"https:\/\/www.instagram.com\/gofastulua?igsh=ZXhoMHE0bTQ3azgy\",\n            \"https:\/\/www.tiktok.com\/@gofastulua?_r=1&_t=ZS-91GhG5Z2Xpf\"\n        ]\n    }\n    <\/script>\n    <?php\n    \n    \/\/ Breadcrumb Schema (mejora la navegaci\u00f3n seg\u00fan Google)\n    if (!is_front_page() && is_page()) {\n        $page_obj = get_queried_object();\n        $breadcrumbs = array(\n            array('name' => 'Inicio', 'url' => home_url('\/'))\n        );\n        \n        \/\/ Agregar p\u00e1gina actual\n        if (!empty($page_obj->post_title)) {\n            $breadcrumbs[] = array(\n                'name' => $page_obj->post_title,\n                'url' => get_permalink($page_obj->ID)\n            );\n        }\n        \n        if (count($breadcrumbs) > 1) {\n            ?>\n            <script type=\"application\/ld+json\">\n            {\n                \"@context\": \"https:\/\/schema.org\",\n                \"@type\": \"BreadcrumbList\",\n                \"itemListElement\": [\n                    <?php\n                    $position = 1;\n                    foreach ($breadcrumbs as $crumb) {\n                        if ($position > 1) echo \",\\n\";\n                        ?>\n                    {\n                        \"@type\": \"ListItem\",\n                        \"position\": <?php echo $position; ?>,\n                        \"name\": \"<?php echo esc_js($crumb['name']); ?>\",\n                        \"item\": \"<?php echo esc_url($crumb['url']); ?>\"\n                    }<?php\n                        $position++;\n                    }\n                    ?>\n                ]\n            }\n            <\/script>\n            <?php\n        }\n    }\n    \n    echo \"\\n<!-- End GoFast SEO Meta Tags -->\\n\";\n}\nadd_action('wp_head', 'gofast_add_seo_meta_tags', 1);\n\n\/**\n * Agregar meta viewport si no existe (importante para m\u00f3viles)\n *\/\nfunction gofast_add_viewport_meta() {\n    if (!has_action('wp_head', 'wp_head')) {\n        echo '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes\">' . \"\\n\";\n    }\n}\nadd_action('wp_head', 'gofast_add_viewport_meta', 0);\n\n\/**\n * Agregar hreflang para SEO internacional (si es necesario en el futuro)\n *\/\nfunction gofast_add_hreflang() {\n    $site_url = home_url('\/');\n    echo '<link rel=\"alternate\" hreflang=\"es-co\" href=\"' . esc_url($site_url) . '\">' . \"\\n\";\n    echo '<link rel=\"alternate\" hreflang=\"es\" href=\"' . esc_url($site_url) . '\">' . \"\\n\";\n    echo '<link rel=\"alternate\" hreflang=\"x-default\" href=\"' . esc_url($site_url) . '\">' . \"\\n\";\n}\nadd_action('wp_head', 'gofast_add_hreflang', 2);\n\n\/**\n * Optimizar im\u00e1genes para SEO (lazy loading y alt text)\n * Esta funci\u00f3n se puede expandir para agregar m\u00e1s optimizaciones\n *\/\nfunction gofast_optimize_images_seo($attr, $attachment, $size) {\n    \/\/ Asegurar que las im\u00e1genes tengan alt text\n    if (empty($attr['alt']) && !empty($attachment->post_title)) {\n        $attr['alt'] = esc_attr($attachment->post_title);\n    }\n    \n    \/\/ Agregar loading lazy por defecto (WordPress 5.5+ ya lo hace, pero por si acaso)\n    if (!isset($attr['loading'])) {\n        $attr['loading'] = 'lazy';\n    }\n    \n    return $attr;\n}\nadd_filter('wp_get_attachment_image_attributes', 'gofast_optimize_images_seo', 10, 3);\n\n\/**\n * Generar sitemap.xml din\u00e1mico seg\u00fan las mejores pr\u00e1cticas de Google\n * https:\/\/developers.google.com\/search\/docs\/fundamentals\/seo-starter-guide\n * \n * Nota: Site Kit de Google puede generar su propio sitemap, pero esta funci\u00f3n\n * asegura que las p\u00e1ginas principales est\u00e9n incluidas\n *\/\nfunction gofast_generate_sitemap() {\n    \/\/ Solo generar si se solicita expl\u00edcitamente y no hay otro sitemap activo\n    if (isset($_GET['gofast_sitemap']) && $_GET['gofast_sitemap'] === 'xml') {\n        \/\/ Lista de p\u00e1ginas importantes del sitio\n        $important_pages = array(\n            array('url' => home_url('\/'), 'priority' => '1.0', 'changefreq' => 'daily'),\n            array('url' => home_url('\/cotizar'), 'priority' => '0.9', 'changefreq' => 'weekly'),\n            array('url' => home_url('\/cotizar-intermunicipal'), 'priority' => '0.8', 'changefreq' => 'weekly'),\n            array('url' => home_url('\/sobre-nosotros'), 'priority' => '0.7', 'changefreq' => 'monthly'),\n            array('url' => home_url('\/trabaja-con-nosotros'), 'priority' => '0.7', 'changefreq' => 'monthly'),\n            array('url' => home_url('\/app-movil'), 'priority' => '0.6', 'changefreq' => 'monthly'),\n        );\n        \n        header('Content-Type: application\/xml; charset=utf-8');\n        echo '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' . \"\\n\";\n        echo '<urlset xmlns=\"http:\/\/www.sitemaps.org\/schemas\/sitemap\/0.9\">' . \"\\n\";\n        \n        foreach ($important_pages as $page) {\n            echo '  <url>' . \"\\n\";\n            echo '    <loc>' . esc_url($page['url']) . '<\/loc>' . \"\\n\";\n            echo '    <lastmod>' . date('Y-m-d') . '<\/lastmod>' . \"\\n\";\n            echo '    <changefreq>' . $page['changefreq'] . '<\/changefreq>' . \"\\n\";\n            echo '    <priority>' . $page['priority'] . '<\/priority>' . \"\\n\";\n            echo '  <\/url>' . \"\\n\";\n        }\n        \n        echo '<\/urlset>';\n        exit;\n    }\n}\nadd_action('init', 'gofast_generate_sitemap');\n\n\/**\n * Generar robots.txt v\u00e1lido seg\u00fan est\u00e1ndar\n * Seg\u00fan: https:\/\/developers.google.com\/search\/docs\/fundamentals\/seo-starter-guide\n * \n * Esta funci\u00f3n sobrescribe cualquier robots.txt generado por WordPress o plugins\n * para asegurar que solo contenga directivas est\u00e1ndar v\u00e1lidas\n *\/\nfunction gofast_output_robots_txt() {\n    \/\/ Eliminar TODAS las acciones de robots.txt para evitar conflictos\n    global $wp_filter;\n    if (isset($wp_filter['do_robots'])) {\n        unset($wp_filter['do_robots']);\n    }\n    \n    \/\/ Generar robots.txt v\u00e1lido con solo directivas est\u00e1ndar\n    header('Content-Type: text\/plain; charset=utf-8');\n    \n    \/\/ Directivas est\u00e1ndar seg\u00fan especificaci\u00f3n robots.txt\n    echo \"User-agent: *\\n\";\n    echo \"Allow: \/\\n\";\n    echo \"Disallow: \/wp-admin\/\\n\";\n    echo \"Disallow: \/wp-includes\/\\n\";\n    echo \"Disallow: \/?gofast_logout=1\\n\";\n    echo \"Disallow: \/auth\/\\n\";\n    echo \"\\n\";\n    \n    \/\/ Sitemap (directiva est\u00e1ndar)\n    echo \"Sitemap: \" . esc_url(home_url('\/?gofast_sitemap=xml')) . \"\\n\";\n    \n    exit;\n}\n\n\/**\n * Registrar la funci\u00f3n de robots.txt con m\u00e1xima prioridad\n * para sobrescribir cualquier otra implementaci\u00f3n\n *\/\nfunction gofast_add_sitemap_to_robots() {\n    \/\/ Eliminar todas las acciones previas de do_robots\n    remove_all_actions('do_robots');\n    \n    \/\/ Registrar nuestra funci\u00f3n con prioridad 1 (m\u00e1s alta)\n    add_action('do_robots', 'gofast_output_robots_txt', 1);\n}\nadd_action('init', 'gofast_add_sitemap_to_robots', 999);\n\n\/**\n * Filtrar y limpiar robots.txt para eliminar directivas no est\u00e1ndar\n * Esto asegura que solo se incluyan directivas v\u00e1lidas seg\u00fan el est\u00e1ndar\n * \n * Elimina espec\u00edficamente \"Content-signal:\" y otras directivas no est\u00e1ndar\n *\/\nfunction gofast_clean_robots_txt($output) {\n    if (empty($output)) {\n        return $output;\n    }\n    \n    \/\/ Lista de directivas NO est\u00e1ndar que deben eliminarse\n    $invalid_directives = array(\n        'Content-signal:',\n        'content-signal:',\n        'CONTENT-SIGNAL:'\n    );\n    \n    \/\/ Lista de directivas est\u00e1ndar v\u00e1lidas seg\u00fan robots.txt spec\n    $valid_directives = array(\n        'User-agent:',\n        'Allow:',\n        'Disallow:',\n        'Crawl-delay:',\n        'Sitemap:',\n        'Host:'\n    );\n    \n    \/\/ Dividir en l\u00edneas\n    $lines = explode(\"\\n\", $output);\n    $clean_lines = array();\n    \n    foreach ($lines as $line) {\n        $original_line = $line;\n        $line = trim($line);\n        \n        \/\/ Saltar l\u00edneas vac\u00edas\n        if (empty($line)) {\n            $clean_lines[] = '';\n            continue;\n        }\n        \n        \/\/ ELIMINAR espec\u00edficamente directivas no est\u00e1ndar conocidas\n        $should_remove = false;\n        foreach ($invalid_directives as $invalid) {\n            if (stripos($line, $invalid) === 0) {\n                $should_remove = true;\n                break;\n            }\n        }\n        \n        if ($should_remove) {\n            \/\/ Ignorar esta l\u00ednea completamente\n            continue;\n        }\n        \n        \/\/ Verificar si la l\u00ednea comienza con una directiva v\u00e1lida\n        $is_valid = false;\n        foreach ($valid_directives as $directive) {\n            if (stripos($line, $directive) === 0) {\n                $is_valid = true;\n                break;\n            }\n        }\n        \n        \/\/ Tambi\u00e9n permitir comentarios (l\u00edneas que empiezan con #)\n        if (!$is_valid && strpos($line, '#') === 0) {\n            $is_valid = true;\n        }\n        \n        \/\/ Solo agregar l\u00edneas v\u00e1lidas\n        if ($is_valid) {\n            $clean_lines[] = $original_line; \/\/ Mantener formato original\n        }\n        \/\/ Eliminar cualquier otra l\u00ednea con directivas no est\u00e1ndar\n    }\n    \n    return implode(\"\\n\", $clean_lines);\n}\n\n\/\/ Aplicar filtro con m\u00e1xima prioridad para ejecutarse al final\n\/\/ Esto asegura que se ejecute despu\u00e9s de que WordPress\/plugins agreguen sus directivas\nadd_filter('robots_txt', 'gofast_clean_robots_txt', 99999);\n\n\/**\n * Compatibilidad con Site Kit de Google\n * Asegurar que nuestros meta tags no interfieran con Site Kit\n *\/\nfunction gofast_sitekit_compatibility() {\n    \/\/ Site Kit maneja Analytics y Search Console\n    \/\/ Nuestros meta tags son complementarios y no deber\u00edan interferir\n    \/\/ Si Site Kit est\u00e1 activo, respetamos sus configuraciones\n    if (defined('GOOGLESITEKIT_VERSION')) {\n        \/\/ Site Kit est\u00e1 activo, nuestros tags son complementarios\n        \/\/ No hacemos nada especial, solo coexistimos\n    }\n}\nadd_action('wp_head', 'gofast_sitekit_compatibility', 999);\n\n\/**\n * Agregar preload para recursos cr\u00edticos (mejora rendimiento con Cloudflare)\n * Seg\u00fan mejores pr\u00e1cticas de Google: https:\/\/developers.google.com\/search\/docs\/fundamentals\/seo-starter-guide\n *\/\nfunction gofast_preload_resources() {\n    \/\/ Preload del logo (si es cr\u00edtico)\n    $logo_url = 'https:\/\/gofastdomicilios.com\/wp-content\/uploads\/2025\/11\/GoFast.png';\n    echo '<link rel=\"preload\" as=\"image\" href=\"' . esc_url($logo_url) . '\">' . \"\\n\";\n}\nadd_action('wp_head', 'gofast_preload_resources', 3);\n\n\/**\n * Agregar link rel=\"alternate\" para sitemap (mejora descubrimiento seg\u00fan Google)\n * https:\/\/developers.google.com\/search\/docs\/fundamentals\/seo-starter-guide\n *\/\nfunction gofast_add_sitemap_link() {\n    echo '<link rel=\"sitemap\" type=\"application\/xml\" title=\"Sitemap\" href=\"' . esc_url(home_url('\/?gofast_sitemap=xml')) . '\">' . \"\\n\";\n}\nadd_action('wp_head', 'gofast_add_sitemap_link', 4);\n\n\/**\n * Mejorar estructura de enlaces internos (importante para SEO seg\u00fan Google)\n * Agregar atributos rel=\"nofollow\" a enlaces externos y mejorar enlaces internos\n *\/\nfunction gofast_improve_internal_links($content) {\n    if (is_admin() || !is_singular()) {\n        return $content;\n    }\n    \n    \/\/ Agregar rel=\"nofollow\" a enlaces externos (opcional, puede desactivarse)\n    \/\/ Esta funci\u00f3n se puede expandir seg\u00fan necesidades espec\u00edficas\n    \n    return $content;\n}\n\/\/ Desactivado por defecto - descomentar si se necesita\n\/\/ add_filter('the_content', 'gofast_improve_internal_links', 99);\n\n","active":true,"modified":"2025-12-12 14:05:56","revision":"1"}]}