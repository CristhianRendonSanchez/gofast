{"generator":"Code Snippets v3.9.3","date_created":"2025-12-12 19:47","snippets":[{"id":30,"name":"gofast_transferencias","code":"\n\/***************************************************\n * GOFAST \u2013 M\u00d3DULO DE TRANSFERENCIAS\n * Shortcode: [gofast_transferencias]\n * URL: \/transferencias\n * \n * Funcionalidades:\n * - Mensajero: Crear transferencias (estado: pendiente) y ver sus transferencias\n * - Admin: Crear transferencias (estado: aprobada), ver todas, aprobar\/rechazar\n ***************************************************\/\nfunction gofast_transferencias_shortcode() {\n    global $wpdb;\n\n    if (session_status() === PHP_SESSION_NONE) {\n        session_start();\n    }\n\n    \/\/ Validar sesi\u00f3n\n    if (empty($_SESSION['gofast_user_id'])) {\n        return \"<div class='gofast-box'>Debes iniciar sesi\u00f3n para acceder a las transferencias.<\/div>\";\n    }\n\n    $user_id = (int) $_SESSION['gofast_user_id'];\n    $rol = strtolower($_SESSION['gofast_user_rol'] ?? 'cliente');\n\n    \/\/ Solo mensajero y admin pueden acceder\n    if ($rol !== 'mensajero' && $rol !== 'admin') {\n        return \"<div class='gofast-box'>\u26a0\ufe0f Solo mensajeros y administradores pueden acceder a las transferencias.<\/div>\";\n    }\n\n    \/\/ Obtener datos del usuario\n    $usuario = $wpdb->get_row(\n        $wpdb->prepare(\n            \"SELECT id, nombre, rol, activo FROM usuarios_gofast WHERE id = %d AND activo = 1\",\n            $user_id\n        )\n    );\n\n    if (!$usuario) {\n        return \"<div class='gofast-box'>Usuario no encontrado.<\/div>\";\n    }\n\n    $mensaje = '';\n    $mensaje_tipo = ''; \/\/ success, error\n\n    \/*********************************************\n     * PROCESAMIENTO DE FORMULARIOS\n     *********************************************\/\n\n    \/\/ 1. CREAR TRANSFERENCIA (Mensajero o Admin)\n    if (isset($_POST['gofast_crear_transferencia']) && wp_verify_nonce($_POST['gofast_transferencia_nonce'], 'gofast_crear_transferencia')) {\n        $valor = floatval($_POST['valor'] ?? 0);\n        $mensajero_id = isset($_POST['mensajero_id']) ? (int) $_POST['mensajero_id'] : $user_id;\n\n        if ($valor <= 0) {\n            $mensaje = 'El valor debe ser mayor a cero.';\n            $mensaje_tipo = 'error';\n        } else {\n            \/\/ Si es admin creando para otro mensajero, validar que existe\n            if ($rol === 'admin' && $mensajero_id !== $user_id) {\n                $mensajero_valido = $wpdb->get_var(\n                    $wpdb->prepare(\n                        \"SELECT id FROM usuarios_gofast WHERE id = %d AND rol = 'mensajero' AND activo = 1\",\n                        $mensajero_id\n                    )\n                );\n                if (!$mensajero_valido) {\n                    $mensaje = 'El mensajero seleccionado no existe o est\u00e1 inactivo.';\n                    $mensaje_tipo = 'error';\n                } else {\n                    \/\/ Admin crea \u2192 estado: aprobada\n                    $estado = 'aprobada';\n                }\n            } else {\n                \/\/ Mensajero crea para s\u00ed mismo \u2192 estado: pendiente\n                $mensajero_id = $user_id;\n                $estado = 'pendiente';\n            }\n\n            if (empty($mensaje)) {\n                $insertado = $wpdb->insert(\n                    'transferencias_gofast',\n                    [\n                        'mensajero_id' => $mensajero_id,\n                        'valor' => $valor,\n                        'estado' => $estado,\n                        'creado_por' => $user_id,\n                        'observaciones' => null,\n                        'fecha_creacion' => gofast_date_mysql()\n                    ],\n                    ['%d', '%f', '%s', '%d', '%s', '%s']\n                );\n\n                if ($insertado) {\n                    $mensaje = $rol === 'admin' \n                        ? 'Transferencia creada y aprobada autom\u00e1ticamente.' \n                        : 'Transferencia solicitada correctamente.';\n                    $mensaje_tipo = 'success';\n                } else {\n                    $mensaje = 'Error al crear la transferencia.';\n                    $mensaje_tipo = 'error';\n                }\n            }\n        }\n    }\n\n    \/\/ 2. APROBAR TRANSFERENCIA (Solo Admin)\n    if (isset($_POST['gofast_aprobar_transferencia']) && wp_verify_nonce($_POST['gofast_aprobar_nonce'], 'gofast_aprobar_transferencia') && $rol === 'admin') {\n        $transferencia_id = (int) $_POST['transferencia_id'];\n\n        $actualizado = $wpdb->update(\n            'transferencias_gofast',\n            [\n                'estado' => 'aprobada',\n                'fecha_actualizacion' => gofast_date_mysql()\n            ],\n            ['id' => $transferencia_id],\n            ['%s', '%s'],\n            ['%d']\n        );\n\n        if ($actualizado) {\n            $mensaje = 'Transferencia aprobada correctamente.';\n            $mensaje_tipo = 'success';\n        } else {\n            $mensaje = 'Error al aprobar la transferencia.';\n            $mensaje_tipo = 'error';\n        }\n    }\n\n    \/\/ 3. RECHAZAR TRANSFERENCIA (Solo Admin)\n    if (isset($_POST['gofast_rechazar_transferencia']) && wp_verify_nonce($_POST['gofast_rechazar_nonce'], 'gofast_rechazar_transferencia') && $rol === 'admin') {\n        $transferencia_id = (int) $_POST['transferencia_id'];\n        $observaciones = sanitize_text_field($_POST['observaciones'] ?? '');\n\n        $actualizado = $wpdb->update(\n            'transferencias_gofast',\n            [\n                'estado' => 'rechazada',\n                'observaciones' => $observaciones,\n                'fecha_actualizacion' => gofast_date_mysql()\n            ],\n            ['id' => $transferencia_id],\n            ['%s', '%s', '%s'],\n            ['%d']\n        );\n\n        if ($actualizado) {\n            $mensaje = 'Transferencia rechazada correctamente.';\n            $mensaje_tipo = 'success';\n        } else {\n            $mensaje = 'Error al rechazar la transferencia.';\n            $mensaje_tipo = 'error';\n        }\n    }\n\n    \/\/ 4. ELIMINAR TRANSFERENCIA (Solo Admin)\n    if (isset($_POST['gofast_eliminar_transferencia']) && wp_verify_nonce($_POST['gofast_eliminar_nonce'], 'gofast_eliminar_transferencia') && $rol === 'admin') {\n        $transferencia_id = (int) $_POST['transferencia_id'];\n\n        $eliminado = $wpdb->delete(\n            'transferencias_gofast',\n            ['id' => $transferencia_id],\n            ['%d']\n        );\n\n        if ($eliminado) {\n            $mensaje = 'Transferencia eliminada correctamente.';\n            $mensaje_tipo = 'success';\n        } else {\n            $mensaje = 'Error al eliminar la transferencia.';\n            $mensaje_tipo = 'error';\n        }\n    }\n\n    \/*********************************************\n     * FILTROS\n     *********************************************\/\n\n    \/\/ Filtros desde URL o POST\n    $fecha_desde = isset($_GET['fecha_desde']) ? sanitize_text_field($_GET['fecha_desde']) : '';\n    $fecha_hasta = isset($_GET['fecha_hasta']) ? sanitize_text_field($_GET['fecha_hasta']) : '';\n    $valor_min = isset($_GET['valor_min']) ? floatval($_GET['valor_min']) : 0;\n    $valor_max = isset($_GET['valor_max']) ? floatval($_GET['valor_max']) : 0;\n    $estado_filtro = isset($_GET['estado']) ? sanitize_text_field($_GET['estado']) : '';\n\n    \/\/ Valores por defecto seg\u00fan rol\n    if (empty($_GET['fecha_desde']) && empty($_GET['fecha_hasta']) && empty($_GET['estado'])) {\n        if ($rol === 'admin') {\n            \/\/ Admin: mostrar pendientes por defecto\n            $estado_filtro = 'pendiente';\n        } else {\n            \/\/ Mensajero: mostrar d\u00eda actual por defecto (zona horaria Colombia)\n            $fecha_desde = gofast_date_today();\n            $fecha_hasta = gofast_date_today();\n        }\n    }\n\n    \/*********************************************\n     * OBTENER DATOS PARA MOSTRAR\n     *********************************************\/\n\n    \/\/ Lista de mensajeros (solo para admin al crear)\n    $mensajeros = [];\n    if ($rol === 'admin') {\n        $mensajeros = $wpdb->get_results(\n            \"SELECT id, nombre, telefono \n             FROM usuarios_gofast \n             WHERE rol = 'mensajero' AND activo = 1 \n             ORDER BY nombre ASC\"\n        );\n    }\n\n    \/\/ Construir consulta con filtros\n    $where_parts = [];\n    $where_values = [];\n\n    \/\/ Filtro por rol\n    if ($rol === 'mensajero') {\n        $where_parts[] = \"t.mensajero_id = %d\";\n        $where_values[] = $user_id;\n    }\n\n    \/\/ Filtro por fecha\n    if (!empty($fecha_desde)) {\n        $where_parts[] = \"DATE(t.fecha_creacion) >= %s\";\n        $where_values[] = $fecha_desde;\n    }\n    if (!empty($fecha_hasta)) {\n        $where_parts[] = \"DATE(t.fecha_creacion) <= %s\";\n        $where_values[] = $fecha_hasta;\n    }\n\n    \/\/ Filtro por valor\n    if ($valor_min > 0) {\n        $where_parts[] = \"t.valor >= %f\";\n        $where_values[] = $valor_min;\n    }\n    if ($valor_max > 0) {\n        $where_parts[] = \"t.valor <= %f\";\n        $where_values[] = $valor_max;\n    }\n\n    \/\/ Filtro por estado\n    if (!empty($estado_filtro) && in_array($estado_filtro, ['pendiente', 'aprobada', 'rechazada'])) {\n        $where_parts[] = \"t.estado = %s\";\n        $where_values[] = $estado_filtro;\n    }\n\n    \/\/ Construir consulta SQL\n    $sql = \"SELECT t.*, \n                   m.nombre as mensajero_nombre, \n                   m.telefono as mensajero_telefono,\n                   c.nombre as creador_nombre\n            FROM transferencias_gofast t\n            LEFT JOIN usuarios_gofast m ON t.mensajero_id = m.id\n            LEFT JOIN usuarios_gofast c ON t.creado_por = c.id\";\n    \n    if (!empty($where_parts)) {\n        $sql .= \" WHERE \" . implode(' AND ', $where_parts);\n    }\n    \n    $sql .= \" ORDER BY t.fecha_creacion DESC\";\n\n    \/\/ Ejecutar consulta con prepared statement\n    if (!empty($where_values)) {\n        $transferencias = $wpdb->get_results($wpdb->prepare($sql, $where_values));\n    } else {\n        $transferencias = $wpdb->get_results($sql);\n    }\n\n    \/\/ Contar total sin filtros (para estad\u00edsticas)\n    $total_sin_filtros = 0;\n    if ($rol === 'admin') {\n        $total_sin_filtros = (int) $wpdb->get_var(\"SELECT COUNT(*) FROM transferencias_gofast\");\n    } else {\n        $total_sin_filtros = (int) $wpdb->get_var($wpdb->prepare(\n            \"SELECT COUNT(*) FROM transferencias_gofast WHERE mensajero_id = %d\",\n            $user_id\n        ));\n    }\n\n    \/\/ Estad\u00edsticas (solo para admin)\n    $stats = null;\n    if ($rol === 'admin') {\n        $stats = [\n            'total' => (int) $wpdb->get_var(\"SELECT COUNT(*) FROM transferencias_gofast\"),\n            'pendientes' => (int) $wpdb->get_var(\"SELECT COUNT(*) FROM transferencias_gofast WHERE estado = 'pendiente'\"),\n            'aprobadas' => (int) $wpdb->get_var(\"SELECT COUNT(*) FROM transferencias_gofast WHERE estado = 'aprobada'\"),\n            'rechazadas' => (int) $wpdb->get_var(\"SELECT COUNT(*) FROM transferencias_gofast WHERE estado = 'rechazada'\"),\n            'total_valor_pendiente' => (float) $wpdb->get_var(\"SELECT SUM(valor) FROM transferencias_gofast WHERE estado = 'pendiente'\"),\n            'total_valor_aprobado' => (float) $wpdb->get_var(\"SELECT SUM(valor) FROM transferencias_gofast WHERE estado = 'aprobada'\")\n        ];\n    }\n\n    ob_start();\n    ?>\n\n<div class=\"gofast-home\">\n    <?php if ($rol === 'admin'): ?>\n        <div style=\"display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:12px;\">\n            <div>\n                <h1 style=\"margin-bottom:8px;\">\ud83d\udcb0 Transferencias<\/h1>\n                <p class=\"gofast-home-text\" style=\"margin:0;\">\n                    Gestiona las transferencias de los mensajeros.\n                <\/p>\n            <\/div>\n            <a href=\"<?php echo esc_url( home_url('\/dashboard-admin') ); ?>\" class=\"gofast-btn-request\" style=\"text-decoration:none;white-space:nowrap;\">\n                \u2190 Volver al Dashboard\n            <\/a>\n        <\/div>\n    <?php endif; ?>\n    \n    <!-- Mensaje de resultado -->\n    <?php if ($mensaje): ?>\n        <div class=\"gofast-box\" style=\"background: <?= $mensaje_tipo === 'success' ? '#d4edda' : '#f8d7da' ?>; border-left: 4px solid <?= $mensaje_tipo === 'success' ? '#28a745' : '#dc3545' ?>; color: <?= $mensaje_tipo === 'success' ? '#155724' : '#721c24' ?>; margin-bottom: 20px;\">\n            <?= esc_html($mensaje) ?>\n        <\/div>\n    <?php endif; ?>\n\n    <!-- Estad\u00edsticas (Solo Admin) -->\n    <?php if ($rol === 'admin' && $stats): ?>\n        <div class=\"gofast-box\" style=\"margin-bottom: 20px;\">\n            <h3>\ud83d\udcca Estad\u00edsticas de Transferencias<\/h3>\n            <div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-top: 15px;\">\n                <div style=\"text-align: center; padding: 15px; background: #f8f9fa; border-radius: 8px;\">\n                    <div style=\"font-size: 24px; font-weight: 700; color: #333;\"><?= $stats['total'] ?><\/div>\n                    <div style=\"font-size: 13px; color: #666;\">Total<\/div>\n                <\/div>\n                <div style=\"text-align: center; padding: 15px; background: #fff3cd; border-radius: 8px;\">\n                    <div style=\"font-size: 24px; font-weight: 700; color: #856404;\"><?= $stats['pendientes'] ?><\/div>\n                    <div style=\"font-size: 13px; color: #666;\">Pendientes<\/div>\n                <\/div>\n                <div style=\"text-align: center; padding: 15px; background: #d4edda; border-radius: 8px;\">\n                    <div style=\"font-size: 24px; font-weight: 700; color: #155724;\"><?= $stats['aprobadas'] ?><\/div>\n                    <div style=\"font-size: 13px; color: #666;\">Aprobadas<\/div>\n                <\/div>\n                <div style=\"text-align: center; padding: 15px; background: #f8d7da; border-radius: 8px;\">\n                    <div style=\"font-size: 24px; font-weight: 700; color: #721c24;\"><?= $stats['rechazadas'] ?><\/div>\n                    <div style=\"font-size: 13px; color: #666;\">Rechazadas<\/div>\n                <\/div>\n            <\/div>\n            <?php if ($stats['total_valor_pendiente'] > 0 || $stats['total_valor_aprobado'] > 0): ?>\n                <div style=\"margin-top: 15px; padding-top: 15px; border-top: 1px solid #ddd;\">\n                    <div style=\"display: flex; justify-content: space-around; flex-wrap: wrap; gap: 10px;\">\n                        <div>\n                            <strong>Pendiente:<\/strong> $<?= number_format($stats['total_valor_pendiente'], 0, ',', '.') ?>\n                        <\/div>\n                        <div>\n                            <strong>Aprobado:<\/strong> $<?= number_format($stats['total_valor_aprobado'], 0, ',', '.') ?>\n                        <\/div>\n                    <\/div>\n                <\/div>\n            <?php endif; ?>\n        <\/div>\n    <?php endif; ?>\n\n    <!-- Formulario para crear transferencia -->\n    <div class=\"gofast-box\" style=\"margin-bottom: 20px;\">\n        <h3><?= $rol === 'admin' ? '\ud83d\udcb0 Crear Transferencia' : '\ud83d\udcb0 Solicitar Transferencia' ?><\/h3>\n        \n        <form method=\"post\">\n            <?php wp_nonce_field('gofast_crear_transferencia', 'gofast_transferencia_nonce'); ?>\n            \n            <?php if ($rol === 'admin'): ?>\n                <label><strong>Mensajero<\/strong> <span style=\"color: #dc3545;\">*<\/span><\/label>\n                <select name=\"mensajero_id\" class=\"gofast-select\" id=\"mensajero-select-transferencia\" required>\n                    <option value=\"\">\u2014 Selecciona mensajero \u2014<\/option>\n                    <?php foreach ($mensajeros as $m): ?>\n                        <option value=\"<?= esc_attr($m->id) ?>\">\n                            <?= esc_html($m->nombre) ?> \u2014 <?= esc_html($m->telefono) ?>\n                        <\/option>\n                    <?php endforeach; ?>\n                <\/select>\n            <?php else: ?>\n                <div style=\"background: #e7f3ff; padding: 12px; border-radius: 6px; margin-bottom: 16px;\">\n                    <strong>Mensajero:<\/strong> <?= esc_html($usuario->nombre) ?>\n                <\/div>\n            <?php endif; ?>\n\n            <label><strong>Valor de la transferencia<\/strong><\/label>\n            <input type=\"number\" \n                   name=\"valor\" \n                   step=\"0.01\" \n                   min=\"0.01\" \n                   required \n                   placeholder=\"Ej: 50000\"\n                   style=\"width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px;\">\n\n            <div class=\"gofast-btn-group\" style=\"margin-top: 20px;\">\n                <button type=\"submit\" name=\"gofast_crear_transferencia\" class=\"gofast-submit\">\n                    <?= $rol === 'admin' ? '\u2705 Crear y Aprobar' : '\ud83d\udce4 Solicitar Transferencia' ?>\n                <\/button>\n            <\/div>\n        <\/form>\n    <\/div>\n\n    <!-- Filtros -->\n    <div class=\"gofast-box\" style=\"margin-bottom: 20px;\">\n        <h3>\ud83d\udd0d Filtros<\/h3>\n        <form method=\"get\" action=\"\" class=\"gofast-filtros-form\">\n            <!-- Mantener otros par\u00e1metros GET si existen -->\n            <?php foreach ($_GET as $key => $value): ?>\n                <?php if (!in_array($key, ['fecha_desde', 'fecha_hasta', 'valor_min', 'valor_max', 'estado'])): ?>\n                    <input type=\"hidden\" name=\"<?= esc_attr($key) ?>\" value=\"<?= esc_attr($value) ?>\">\n                <?php endif; ?>\n            <?php endforeach; ?>\n            \n            <div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 12px;\">\n                <div>\n                    <label style=\"display: block; font-weight: 600; margin-bottom: 4px; font-size: 13px;\">Fecha desde<\/label>\n                    <input type=\"date\" \n                           name=\"fecha_desde\" \n                           value=\"<?= esc_attr($fecha_desde) ?>\"\n                           style=\"width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;\">\n                <\/div>\n                <div>\n                    <label style=\"display: block; font-weight: 600; margin-bottom: 4px; font-size: 13px;\">Fecha hasta<\/label>\n                    <input type=\"date\" \n                           name=\"fecha_hasta\" \n                           value=\"<?= esc_attr($fecha_hasta) ?>\"\n                           style=\"width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;\">\n                <\/div>\n                <div>\n                    <label style=\"display: block; font-weight: 600; margin-bottom: 4px; font-size: 13px;\">Valor m\u00ednimo<\/label>\n                    <input type=\"number\" \n                           name=\"valor_min\" \n                           value=\"<?= $valor_min > 0 ? esc_attr($valor_min) : '' ?>\"\n                           step=\"0.01\"\n                           min=\"0\"\n                           placeholder=\"Ej: 10000\"\n                           style=\"width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;\">\n                <\/div>\n                <div>\n                    <label style=\"display: block; font-weight: 600; margin-bottom: 4px; font-size: 13px;\">Valor m\u00e1ximo<\/label>\n                    <input type=\"number\" \n                           name=\"valor_max\" \n                           value=\"<?= $valor_max > 0 ? esc_attr($valor_max) : '' ?>\"\n                           step=\"0.01\"\n                           min=\"0\"\n                           placeholder=\"Ej: 100000\"\n                           style=\"width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;\">\n                <\/div>\n                <div>\n                    <label style=\"display: block; font-weight: 600; margin-bottom: 4px; font-size: 13px;\">Estado<\/label>\n                    <select name=\"estado\" style=\"width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;\">\n                        <option value=\"\">Todos<\/option>\n                        <option value=\"pendiente\" <?= $estado_filtro === 'pendiente' ? 'selected' : '' ?>>\u23f3 Pendiente<\/option>\n                        <option value=\"aprobada\" <?= $estado_filtro === 'aprobada' ? 'selected' : '' ?>>\u2705 Aprobada<\/option>\n                        <option value=\"rechazada\" <?= $estado_filtro === 'rechazada' ? 'selected' : '' ?>>\u274c Rechazada<\/option>\n                    <\/select>\n                <\/div>\n            <\/div>\n            \n            <div style=\"display: flex; gap: 10px; flex-wrap: wrap;\">\n                <button type=\"submit\" class=\"gofast-btn\" style=\"background: var(--gofast-yellow); flex: 1; min-width: 120px;\">\n                    \ud83d\udd0d Filtrar\n                <\/button>\n                <?php\n                \/\/ Construir URL sin los par\u00e1metros de filtro\n                $clean_url = remove_query_arg(['fecha_desde', 'fecha_hasta', 'valor_min', 'valor_max', 'estado']);\n                if (empty($clean_url) || $clean_url === home_url('\/')) {\n                    $clean_url = home_url('\/transferencias');\n                }\n                ?>\n                <a href=\"<?= esc_url($clean_url) ?>\" \n                   class=\"gofast-btn gofast-secondary\" \n                   style=\"flex: 1; min-width: 120px; text-align: center; text-decoration: none; display: inline-block;\">\n                    \ud83d\udd04 Limpiar\n                <\/a>\n            <\/div>\n        <\/form>\n        \n        <?php if (!empty($transferencias) || !empty($fecha_desde) || !empty($fecha_hasta) || $valor_min > 0 || $valor_max > 0 || !empty($estado_filtro)): ?>\n            <div style=\"margin-top: 12px; padding: 10px; background: #e7f3ff; border-radius: 6px; font-size: 13px;\">\n                <strong>Resultados:<\/strong> \n                <?= count($transferencias) ?> transferencia(s) encontrada(s)\n                <?php if (isset($total_sin_filtros) && $total_sin_filtros > count($transferencias)): ?>\n                    (de <?= $total_sin_filtros ?> total)\n                <?php endif; ?>\n            <\/div>\n        <?php endif; ?>\n    <\/div>\n\n    <!-- Listado de transferencias -->\n    <div class=\"gofast-box\">\n        <h3><?= $rol === 'admin' ? '\ud83d\udccb Todas las Transferencias' : '\ud83d\udccb Mis Transferencias' ?><\/h3>\n        \n        <?php if (empty($transferencias)): ?>\n            <p style=\"text-align: center; color: #666; padding: 20px;\">\n                No hay transferencias registradas.\n            <\/p>\n        <?php else: ?>\n            <!-- Vista Desktop: Tabla -->\n            <div class=\"gofast-transferencias-table-wrapper gofast-transferencias-desktop\">\n                <div class=\"gofast-table-wrap\">\n                    <table class=\"gofast-table gofast-transferencias-table\">\n                    <thead>\n                        <tr>\n                            <th>ID<\/th>\n                            <th>Fecha<\/th>\n                            <?php if ($rol === 'admin'): ?>\n                                <th>Mensajero<\/th>\n                                <th>Creado por<\/th>\n                            <?php endif; ?>\n                            <th>Valor<\/th>\n                            <th>Estado<\/th>\n                            <?php if ($rol === 'admin'): ?>\n                                <th>Acciones<\/th>\n                            <?php endif; ?>\n                        <\/tr>\n                    <\/thead>\n                    <tbody>\n                        <?php foreach ($transferencias as $t): ?>\n                            <tr>\n                                <td>#<?= esc_html($t->id) ?><\/td>\n                                <td><?= gofast_date_format($t->fecha_creacion, 'd\/m\/Y H:i') ?><\/td>\n                                <?php if ($rol === 'admin'): ?>\n                                    <td>\n                                        <?= esc_html($t->mensajero_nombre) ?><br>\n                                        <small style=\"color: #666;\"><?= esc_html($t->mensajero_telefono) ?><\/small>\n                                    <\/td>\n                                    <td><?= esc_html($t->creador_nombre) ?><\/td>\n                                <?php endif; ?>\n                                <td><strong>$<?= number_format($t->valor, 0, ',', '.') ?><\/strong><\/td>\n                                <td>\n                                    <?php\n                                    $estado_class = '';\n                                    $estado_text = '';\n                                    switch ($t->estado) {\n                                        case 'pendiente':\n                                            $estado_class = 'gofast-badge-estado-pendiente';\n                                            $estado_text = '\u23f3 Pendiente';\n                                            break;\n                                        case 'aprobada':\n                                            $estado_class = 'gofast-badge-estado-entregado';\n                                            $estado_text = '\u2705 Aprobada';\n                                            break;\n                                        case 'rechazada':\n                                            $estado_class = 'gofast-badge-estado-cancelado';\n                                            $estado_text = '\u274c Rechazada';\n                                            break;\n                                    }\n                                    ?>\n                                    <span class=\"gofast-badge-estado <?= $estado_class ?>\">\n                                        <?= $estado_text ?>\n                                    <\/span>\n                                    <?php if ($t->estado === 'rechazada' && !empty($t->observaciones)): ?>\n                                        <br><small style=\"color: #666; font-size: 11px; margin-top: 4px; display: block;\">\n                                            <?= esc_html($t->observaciones) ?>\n                                        <\/small>\n                                    <?php endif; ?>\n                                <\/td>\n                                <?php if ($rol === 'admin'): ?>\n                                    <td>\n                                        <div style=\"display: flex; gap: 5px; flex-wrap: wrap;\">\n                                            <form method=\"post\" style=\"display: inline-block;\">\n                                                <?php wp_nonce_field('gofast_aprobar_transferencia', 'gofast_aprobar_nonce'); ?>\n                                                <input type=\"hidden\" name=\"transferencia_id\" value=\"<?= esc_attr($t->id) ?>\">\n                                                <button type=\"submit\" name=\"gofast_aprobar_transferencia\" \n                                                        class=\"gofast-btn-mini\" \n                                                        style=\"background: #28a745; color: #fff; border: 0; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;\">\n                                                    \u2705 Aprobar\n                                                <\/button>\n                                            <\/form>\n                                            <button type=\"button\" \n                                                    onclick=\"mostrarModalRechazar(<?= esc_js($t->id) ?>, '<?= esc_js($t->mensajero_nombre) ?>', <?= esc_js($t->valor) ?>)\"\n                                                    class=\"gofast-btn-mini\" \n                                                    style=\"background: #dc3545; color: #fff; border: 0; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;\">\n                                                \u274c Rechazar\n                                            <\/button>\n                                            <button type=\"button\" \n                                                    onclick=\"mostrarModalEliminar(<?= esc_js($t->id) ?>, '<?= esc_js($t->mensajero_nombre) ?>', <?= esc_js($t->valor) ?>)\"\n                                                    class=\"gofast-btn-mini\" \n                                                    style=\"background: #6c757d; color: #fff; border: 0; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;\">\n                                                \ud83d\uddd1\ufe0f Eliminar\n                                            <\/button>\n                                        <\/div>\n                                    <\/td>\n                                <?php endif; ?>\n                            <\/tr>\n                        <?php endforeach; ?>\n                    <\/tbody>\n                <\/table>\n                <\/div>\n            <\/div>\n\n            <!-- Vista M\u00f3vil: Cards -->\n            <div class=\"gofast-transferencias-cards gofast-transferencias-mobile\">\n                <?php foreach ($transferencias as $t): ?>\n                    <?php\n                    $estado_class = '';\n                    $estado_text = '';\n                    $estado_color = '';\n                    switch ($t->estado) {\n                        case 'pendiente':\n                            $estado_class = 'gofast-badge-estado-pendiente';\n                            $estado_text = '\u23f3 Pendiente';\n                            $estado_color = '#fff3cd';\n                            break;\n                        case 'aprobada':\n                            $estado_class = 'gofast-badge-estado-entregado';\n                            $estado_text = '\u2705 Aprobada';\n                            $estado_color = '#d4edda';\n                            break;\n                        case 'rechazada':\n                            $estado_class = 'gofast-badge-estado-cancelado';\n                            $estado_text = '\u274c Rechazada';\n                            $estado_color = '#f8d7da';\n                            break;\n                    }\n                    ?>\n                    <div class=\"gofast-transferencia-card\" style=\"background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 16px; margin-bottom: 12px; border-left: 4px solid <?= $estado_color ?>;\">\n                        <div style=\"display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;\">\n                            <div>\n                                <div style=\"font-size: 12px; color: #666; margin-bottom: 4px;\">ID: #<?= esc_html($t->id) ?><\/div>\n                                <div style=\"font-size: 11px; color: #999;\"><?= gofast_date_format($t->fecha_creacion, 'd\/m\/Y H:i') ?><\/div>\n                            <\/div>\n                            <span class=\"gofast-badge-estado <?= $estado_class ?>\" style=\"font-size: 12px; padding: 4px 10px;\">\n                                <?= $estado_text ?>\n                            <\/span>\n                        <\/div>\n\n                        <div style=\"margin-bottom: 12px;\">\n                            <div style=\"font-size: 24px; font-weight: 700; color: #000;\">\n                                $<?= number_format($t->valor, 0, ',', '.') ?>\n                            <\/div>\n                        <\/div>\n\n                        <?php if ($rol === 'admin'): ?>\n                            <div style=\"margin-bottom: 12px; padding: 10px; background: #f8f9fa; border-radius: 6px;\">\n                                <div style=\"font-size: 13px; color: #666; margin-bottom: 4px;\">Mensajero:<\/div>\n                                <div style=\"font-size: 14px; font-weight: 600; color: #000;\">\n                                    <?= esc_html($t->mensajero_nombre) ?>\n                                <\/div>\n                                <div style=\"font-size: 12px; color: #666; margin-top: 2px;\">\n                                    <?= esc_html($t->mensajero_telefono) ?>\n                                <\/div>\n                            <\/div>\n                            <div style=\"margin-bottom: 12px; padding: 10px; background: #f8f9fa; border-radius: 6px;\">\n                                <div style=\"font-size: 13px; color: #666; margin-bottom: 4px;\">Creado por:<\/div>\n                                <div style=\"font-size: 14px; font-weight: 600; color: #000;\">\n                                    <?= esc_html($t->creador_nombre) ?>\n                                <\/div>\n                            <\/div>\n                        <?php endif; ?>\n\n                        <?php if ($t->estado === 'rechazada' && !empty($t->observaciones)): ?>\n                            <div style=\"margin-bottom: 12px; padding: 10px; background: #ffe5e5; border-radius: 6px; border-left: 3px solid #dc3545;\">\n                                <div style=\"font-size: 12px; color: #721c24; font-weight: 600; margin-bottom: 4px;\">Observaciones:<\/div>\n                                <div style=\"font-size: 13px; color: #721c24;\">\n                                    <?= esc_html($t->observaciones) ?>\n                                <\/div>\n                            <\/div>\n                        <?php endif; ?>\n\n                        <?php if ($rol === 'admin'): ?>\n                            <div style=\"display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;\">\n                                <form method=\"post\" style=\"flex: 1; min-width: 100px;\">\n                                    <?php wp_nonce_field('gofast_aprobar_transferencia', 'gofast_aprobar_nonce'); ?>\n                                    <input type=\"hidden\" name=\"transferencia_id\" value=\"<?= esc_attr($t->id) ?>\">\n                                    <button type=\"submit\" name=\"gofast_aprobar_transferencia\" \n                                            style=\"width: 100%; background: #28a745; color: #fff; border: 0; padding: 12px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600;\">\n                                        \u2705 Aprobar\n                                    <\/button>\n                                <\/form>\n                                <button type=\"button\" \n                                        onclick=\"mostrarModalRechazar(<?= esc_js($t->id) ?>, '<?= esc_js($t->mensajero_nombre) ?>', <?= esc_js($t->valor) ?>)\"\n                                        style=\"flex: 1; min-width: 100px; background: #dc3545; color: #fff; border: 0; padding: 12px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600;\">\n                                    \u274c Rechazar\n                                <\/button>\n                                <button type=\"button\" \n                                        onclick=\"mostrarModalEliminar(<?= esc_js($t->id) ?>, '<?= esc_js($t->mensajero_nombre) ?>', <?= esc_js($t->valor) ?>)\"\n                                        style=\"flex: 1; min-width: 100px; background: #6c757d; color: #fff; border: 0; padding: 12px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600;\">\n                                    \ud83d\uddd1\ufe0f Eliminar\n                                <\/button>\n                            <\/div>\n                        <?php endif; ?>\n                    <\/div>\n                <?php endforeach; ?>\n            <\/div>\n        <?php endif; ?>\n    <\/div>\n\n<\/div>\n\n<!-- Modal para rechazar transferencia (Solo Admin) -->\n<?php if ($rol === 'admin'): ?>\n    <div id=\"modal-rechazar-transferencia\" style=\"display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 10000; overflow-y: auto; padding: 20px;\">\n        <div style=\"max-width: 600px; margin: 20px auto; background: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);\">\n            <h2 style=\"margin-top: 0; margin-bottom: 12px; font-size: 20px;\">\u274c Rechazar Transferencia<\/h2>\n            \n            <!-- Informaci\u00f3n de la transferencia -->\n            <div id=\"transferencia-info\" style=\"background: #f8f9fa; border-left: 4px solid #dc3545; padding: 12px; border-radius: 6px; margin-bottom: 16px; font-size: 13px;\">\n                <div style=\"display: grid; grid-template-columns: auto 1fr; gap: 8px 12px; align-items: start;\">\n                    <strong style=\"color: #666;\">Mensajero:<\/strong>\n                    <span id=\"modal-mensajero-nombre\" style=\"font-weight: 600; color: #000;\"><\/span>\n                    \n                    <strong style=\"color: #666;\">Valor:<\/strong>\n                    <span id=\"modal-transferencia-valor\" style=\"font-weight: 600; color: #000;\"><\/span>\n                <\/div>\n            <\/div>\n            \n            <form method=\"post\" id=\"form-rechazar-transferencia\" action=\"\">\n                <?php wp_nonce_field('gofast_rechazar_transferencia', 'gofast_rechazar_nonce'); ?>\n                <input type=\"hidden\" name=\"transferencia_id\" id=\"modal-transferencia-id\">\n                \n                <div style=\"margin-bottom: 16px;\">\n                    <label style=\"display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; color: #000;\">Observaciones (opcional)<\/label>\n                    <textarea name=\"observaciones\" \n                              rows=\"3\" \n                              placeholder=\"Motivo del rechazo...\"\n                              style=\"width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;\"><\/textarea>\n                <\/div>\n                \n                <div style=\"display: flex; gap: 8px; justify-content: flex-end; margin-top: 16px; padding-top: 16px; border-top: 1px solid #ddd;\">\n                    <button type=\"button\" \n                            onclick=\"cerrarModalRechazar()\" \n                            class=\"gofast-btn-mini gofast-btn-outline\">\n                        Cancelar\n                    <\/button>\n                    <button type=\"submit\" \n                            name=\"gofast_rechazar_transferencia\" \n                            class=\"gofast-btn-mini\" \n                            style=\"background: #dc3545; color: #fff;\">\n                        \u274c Rechazar\n                    <\/button>\n                <\/div>\n            <\/form>\n        <\/div>\n    <\/div>\n\n    <!-- Modal para eliminar transferencia (Solo Admin) -->\n    <div id=\"modal-eliminar-transferencia\" style=\"display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 10001; overflow-y: auto; padding: 20px;\">\n        <div style=\"max-width: 600px; margin: 20px auto; background: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);\">\n            <h2 style=\"margin-top: 0; margin-bottom: 12px; font-size: 20px;\">\ud83d\uddd1\ufe0f Eliminar Transferencia<\/h2>\n            \n            <!-- Informaci\u00f3n de la transferencia -->\n            <div id=\"transferencia-info-eliminar\" style=\"background: #f8f9fa; border-left: 4px solid #6c757d; padding: 12px; border-radius: 6px; margin-bottom: 16px; font-size: 13px;\">\n                <div style=\"display: grid; grid-template-columns: auto 1fr; gap: 8px 12px; align-items: start;\">\n                    <strong style=\"color: #666;\">Mensajero:<\/strong>\n                    <span id=\"modal-mensajero-nombre-eliminar\" style=\"font-weight: 600; color: #000;\"><\/span>\n                    \n                    <strong style=\"color: #666;\">Valor:<\/strong>\n                    <span id=\"modal-transferencia-valor-eliminar\" style=\"font-weight: 600; color: #000;\"><\/span>\n                <\/div>\n            <\/div>\n            \n            <div style=\"background: #fff3cd; border-left: 4px solid #ffc107; padding: 12px; border-radius: 6px; margin-bottom: 16px;\">\n                <strong style=\"color: #856404;\">\u26a0\ufe0f Advertencia:<\/strong>\n                <p style=\"margin: 8px 0 0 0; color: #856404; font-size: 13px;\">\n                    Esta acci\u00f3n no se puede deshacer. La transferencia ser\u00e1 eliminada permanentemente de la base de datos.\n                <\/p>\n            <\/div>\n            \n            <form method=\"post\" id=\"form-eliminar-transferencia\" action=\"\">\n                <?php wp_nonce_field('gofast_eliminar_transferencia', 'gofast_eliminar_nonce'); ?>\n                <input type=\"hidden\" name=\"transferencia_id\" id=\"modal-transferencia-id-eliminar\">\n                \n                <div style=\"display: flex; gap: 8px; justify-content: flex-end; margin-top: 16px; padding-top: 16px; border-top: 1px solid #ddd;\">\n                    <button type=\"button\" \n                            onclick=\"cerrarModalEliminar()\" \n                            class=\"gofast-btn-mini gofast-btn-outline\">\n                        Cancelar\n                    <\/button>\n                    <button type=\"submit\" \n                            name=\"gofast_eliminar_transferencia\" \n                            class=\"gofast-btn-mini\" \n                            style=\"background: #6c757d; color: #fff;\">\n                        \ud83d\uddd1\ufe0f Eliminar Permanentemente\n                    <\/button>\n                <\/div>\n            <\/form>\n        <\/div>\n    <\/div>\n\n    <script>\n    function mostrarModalRechazar(id, mensajero, valor) {\n        document.getElementById('modal-transferencia-id').value = id;\n        document.getElementById('modal-mensajero-nombre').textContent = mensajero;\n        document.getElementById('modal-transferencia-valor').textContent = '$' + new Intl.NumberFormat('es-CO').format(valor);\n        document.getElementById('modal-rechazar-transferencia').style.display = 'block';\n    }\n    \n    function cerrarModalRechazar() {\n        document.getElementById('modal-rechazar-transferencia').style.display = 'none';\n        document.getElementById('form-rechazar-transferencia').reset();\n    }\n    \n    function mostrarModalEliminar(id, mensajero, valor) {\n        document.getElementById('modal-transferencia-id-eliminar').value = id;\n        document.getElementById('modal-mensajero-nombre-eliminar').textContent = mensajero;\n        document.getElementById('modal-transferencia-valor-eliminar').textContent = '$' + new Intl.NumberFormat('es-CO').format(valor);\n        document.getElementById('modal-eliminar-transferencia').style.display = 'block';\n    }\n    \n    function cerrarModalEliminar() {\n        document.getElementById('modal-eliminar-transferencia').style.display = 'none';\n        document.getElementById('form-eliminar-transferencia').reset();\n    }\n    \n    \/\/ Cerrar al hacer clic fuera del modal de rechazar\n    document.getElementById('modal-rechazar-transferencia').addEventListener('click', function(e) {\n        if (e.target === this) {\n            cerrarModalRechazar();\n        }\n    });\n    \n    \/\/ Cerrar al hacer clic fuera del modal de eliminar\n    document.getElementById('modal-eliminar-transferencia').addEventListener('click', function(e) {\n        if (e.target === this) {\n            cerrarModalEliminar();\n        }\n    });\n    <\/script>\n<?php endif; ?>\n\n<style>\n\/* Los estilos de gofast-home ya est\u00e1n en css.css *\/\n\n\/* Estilos para tabla de transferencias *\/\n.gofast-transferencias-table-wrapper .gofast-table-wrap {\n    width: 100%;\n    max-width: 100%;\n    overflow-x: auto !important;\n    overflow-y: visible !important;\n    -webkit-overflow-scrolling: touch;\n    display: block;\n    margin: 0;\n    padding: 0;\n}\n\n.gofast-transferencias-table-wrapper .gofast-transferencias-table {\n    min-width: 800px;\n    width: 100%;\n    border-collapse: collapse;\n    margin: 0;\n}\n\n\/* Vista Desktop: Mostrar tabla, ocultar cards *\/\n.gofast-transferencias-desktop {\n    display: block;\n}\n\n\/* Vista M\u00f3vil: Cards (oculta en desktop) *\/\n.gofast-transferencias-mobile {\n    display: none;\n}\n\n.gofast-transferencias-cards {\n    width: 100%;\n    max-width: 100%;\n}\n\n.gofast-transferencia-card {\n    width: 100%;\n    max-width: 100%;\n    box-sizing: border-box;\n}\n\n\/* Estilos para formulario de filtros *\/\n.gofast-filtros-form {\n    width: 100%;\n}\n\n.gofast-filtros-form label {\n    display: block;\n    font-weight: 600;\n    margin-bottom: 4px;\n    font-size: 13px;\n    color: #000;\n}\n\n.gofast-filtros-form input[type=\"date\"],\n.gofast-filtros-form input[type=\"number\"],\n.gofast-filtros-form select {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #ddd;\n    border-radius: 6px;\n    font-size: 14px;\n    background: #fff;\n    color: #000;\n    box-sizing: border-box;\n}\n\n\/* Responsive para m\u00f3vil - tabla de transferencias *\/\n@media (max-width: 768px) {\n    \n    .gofast-transferencias-table-wrapper {\n        width: 100% !important;\n        max-width: 100% !important;\n        overflow-x: visible !important;\n        margin: 0;\n        padding: 0;\n        display: block !important;\n        visibility: visible !important;\n    }\n    \n    .gofast-transferencias-table-wrapper .gofast-table-wrap {\n        overflow-x: scroll !important;\n        -webkit-overflow-scrolling: touch;\n        scrollbar-width: thin;\n        margin: 0;\n        padding: 0;\n        width: 100%;\n        max-width: 100%;\n        display: block !important;\n        visibility: visible !important;\n    }\n    \n    .gofast-transferencias-table-wrapper .gofast-table-wrap::-webkit-scrollbar {\n        height: 8px;\n    }\n    \n    .gofast-transferencias-table-wrapper .gofast-table-wrap::-webkit-scrollbar-track {\n        background: #f1f1f1;\n        border-radius: 4px;\n    }\n    \n    .gofast-transferencias-table-wrapper .gofast-table-wrap::-webkit-scrollbar-thumb {\n        background: #888;\n        border-radius: 4px;\n    }\n    \n    .gofast-transferencias-table-wrapper .gofast-transferencias-table {\n        min-width: 850px;\n        font-size: 13px;\n        display: table !important;\n        visibility: visible !important;\n    }\n    \n    .gofast-transferencias-table-wrapper .gofast-transferencias-table th,\n    .gofast-transferencias-table-wrapper .gofast-transferencias-table td {\n        padding: 10px 8px;\n        font-size: 12px;\n        white-space: nowrap;\n        display: table-cell !important;\n        visibility: visible !important;\n    }\n    \n    \/* Ocultar columna \"Creado por\" en m\u00f3vil para admin *\/\n    .gofast-transferencias-table-wrapper .gofast-transferencias-table th:nth-child(4),\n    .gofast-transferencias-table-wrapper .gofast-transferencias-table td:nth-child(4) {\n        display: none !important;\n    }\n    \n    \/* Ocultar tabla en m\u00f3vil, mostrar cards *\/\n    .gofast-transferencias-desktop {\n        display: none !important;\n    }\n    \n    .gofast-transferencias-mobile {\n        display: block !important;\n    }\n    \n    .gofast-transferencias-cards {\n        width: 100% !important;\n        max-width: 100% !important;\n        padding: 0 !important;\n        margin: 0 !important;\n        box-sizing: border-box !important;\n    }\n    \n    .gofast-transferencia-card {\n        width: 100% !important;\n        max-width: 100% !important;\n        box-sizing: border-box !important;\n        word-wrap: break-word;\n        overflow-wrap: break-word;\n    }\n    \n    .gofast-transferencia-card * {\n        max-width: 100% !important;\n        box-sizing: border-box !important;\n    }\n    \n    \/* Filtros en m\u00f3vil *\/\n    .gofast-filtros-form > div {\n        grid-template-columns: 1fr !important;\n        gap: 12px !important;\n    }\n    \n    .gofast-filtros-form button,\n    .gofast-filtros-form a {\n        width: 100% !important;\n        min-width: 100% !important;\n    }\n    \n}\n\n\/* Para pantallas muy peque\u00f1as *\/\n@media (max-width: 480px) {\n    \n    .gofast-transferencias-table-wrapper .gofast-transferencias-table {\n        min-width: 750px;\n        font-size: 12px;\n    }\n    \n    .gofast-transferencias-table-wrapper .gofast-transferencias-table th,\n    .gofast-transferencias-table-wrapper .gofast-transferencias-table td {\n        padding: 8px 6px;\n        font-size: 11px;\n    }\n    \n    \/* Ocultar ID en m\u00f3vil muy peque\u00f1o *\/\n    .gofast-transferencias-table-wrapper .gofast-transferencias-table th:first-child,\n    .gofast-transferencias-table-wrapper .gofast-transferencias-table td:first-child {\n        display: none !important;\n    }\n}\n\n\/* Desktop: Mostrar tabla, ocultar cards *\/\n@media (min-width: 769px) {\n    .gofast-transferencias-desktop {\n        display: block !important;\n    }\n    \n    .gofast-transferencias-mobile {\n        display: none !important;\n    }\n}\n<\/style>\n\n    <?php\n    return ob_get_clean();\n}\nadd_shortcode('gofast_transferencias', 'gofast_transferencias_shortcode');\n\n","active":true,"modified":"2025-12-10 00:49:47","revision":"1"}]}